<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="./c74ref.xsl" type="text/xsl"?>

<c74object name="bufGranul~">

    <digest>
        Sound multibuffer granulation with signal form parameters and buffer based envelope.
    </digest>
â€‹
    <description>
         Grains are triggered either by signal zero-crossing or messages. Each grains can be individually panned on 1-2-4-6 or 8 outputs. 
         This handles grains continuity when changing the buffer. Inputs can be signal or floats, even buffer selection.
    </description>

    <!--METADATA-->
    <metadatalist>
        <metadata name="author">Charles Bascou and Laurent Pottier</metadata>
        <metadata name="tag">Granular</metadata>
        <metadata name="tag">Buffer</metadata>
        <metadata name="tag">Multichannel</metadata>
    </metadatalist>

    <!--INLETS-->
    <inletlist>
        <inlet id="0" type="bang/signal Zero X-ing/set/">
            <digest>Trigger</digest>
        </inlet>
        <inlet id="1" type="signal/float">
            <digest>Begin</digest>
            <description>
                Time position in milliseconds where the grain waveform is picked in the sound buffer.
            </description>
        </inlet>
           <inlet id="2" type="signal/float">
            <digest>Detune</digest>
            <description>
               transposition factor (ie. read speed) of the grain waveform. For example, 1. corresponds to original speed, 0.5 to lower octave, 2. to upper octave. Note that if the speed is negative the buffer waveform is read backward.
            </description>
        </inlet>
    </inletlist>

    <!--ARGUMENTS-->
    <objarglist>
        <objarg name="soundbuffer-name" optional="0" type="symbol">
            <digest>Name of the sound buffer</digest>
             <description>
                    Name of the sound buffer stored by default in 0 position of the buffer list. Even if replaced later, this buffer has to be valid.
            </description>
        </objarg>
        <objarg name="envbuffer-name" optional="0" type="symbol">
            <digest>Name of the envelope buffer</digest>
             <description>
                    Name of the envelope buffer stored by default in 0 position of the buffer list. Even if replaced later, this buffer has to be valid.
            </description>
        </objarg>
        <objarg name="channels" optional="1" type="int">
            <digest>1-2-4-6 or 8 outputs if specified. Default is 2. </digest>
        </objarg>
        <objarg name="channel-offset" optional="1" type="long">
            <digest> Polyphonic voice number. Default is 512. </digest>
        </objarg>
    </objarglist>

    <!--MESSAGES-->
        <methodlist>
            <method name="set">
                <arglist>
                    <arg name="buffer number" optional="0" type="int" />
                    <arg name="buffer name" optional="0" type="symbol" />
                </arglist>
                <digest>
                    Store a specific sound buffer into a specific slot.
                </digest>
                <description>
                    Store a specific sound buffer into a specific slot.
                </description>
            </method>
            <method name="setenv">
                <arglist>
                    <arg name="envelope buffer number" optional="0" type="int" />
                    <arg name="envelope buffer name" optional="0" type="symbol" />
                </arglist>
                <digest>
                    Store a specific envelope buffer into a specific slot.
                </digest>
                <description>
                    Store a specific envelope buffer into a specific slot.
                </description>
            </method>
            <method name="envbuffer">
                <arglist>
                    <arg name="envelope buffer number" optional="0" type="long" />
                </arglist>
                <digest>
                    Active envelope buffer.
                </digest>
                <description>
                    Active envelope buffer.
                </description>
           </method>
           <method name="loop">
                <arglist>
                    <arg name="mode" optional="0" type="int" />
                    <arg name="begin_ms" optional="1" type="float" />
                    <arg name="end_ms" optional="0" type="float" />
                </arglist>
                <digest>
                    Loop mode message.
                </digest>
                <description>
                    Loop mode message. Buffer position playback is wrapped between begin an end.
                    <br/>Mode : 0 - loop disabled 1 - loop between begin and end. If no begin  end is given loop entire buffer.
                </description>
            </method>
        </methodlist>


</c74object>